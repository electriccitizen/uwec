/* =================
   PAGE STRUCTURED SECTION
=================== */
@use '../../../00-base/base' as *;
@use '../../../01-parts/buttons/button-mixins' as *;

.block-structured-section {
  padding-top: $elementSpace;
  position: relative;
  z-index: 1;
  @include desk {
    padding-bottom: 300px;
  }
  &:before{
     content: '';
     display: block;
     width: 5000px;
     height: 600px;
     @include rotate(-16);
     background: $brightBlue;
     position: absolute;
     top: -400px;
     left: 0;
     z-index: -1;
  }
  &:after{
    @include fullBack($brightBlue);
  }
  > * {
    position: relative;
    z-index: 1;
  }

  .paragraph--type--wayfinding {
    margin: -$elementSpace 0;
    position: relative;
    top: -$elementSpace;

    .wayfinding {
      max-width: $wideContent;

      @include desk {
        @include safeFlex(row, no-wrap, justify, start);
      }

      &.single {
        margin-bottom: 0;
        margin-top: 0;
        padding: $siteMarginMobile;
        @include desk {
          padding: $spaceSm 1.5rem;
        }
        &:after {
          @include auto;
          background-color: $lightGrey;
          left: 0;
          max-width: $wideContent;
          width: 100%;
        }
      }

      .field-image {
        margin: 0 auto;
        max-width: 440px;
        order: 2;
        @include desk {
          margin: 0;
        }
      }
      .wayfinding-info {
        line-height: 1.5;
        order: 1;
        padding: $siteMarginMobile 0;
        @include desk {
          line-height: 2;
          max-width: 550px;
          padding: $spaceLg 0 $spaceLg $spaceXl;
        }

        .wayfinding-headline {
          @include heading2;
          line-height: 1.14;
          margin-bottom: $spaceXxs;
          text-transform: uppercase;
          @include desk {
            font-size: 4rem;
            margin-bottom: $spaceXs;
            text-transform: none;
          }
        }
      }
    }
  }

  .field-leadin {
    @include auto;
    color: $white;
    line-height: 1.3;
    font-family: $displayHeader;
    font-size: 3.5rem;
    margin-top: $spaceMd;
    margin-bottom: $spaceMd;
    max-width: $textMax;
    text-align: left;
    @include desk {
      font-size: 4rem;
      margin-top: 12rem;
      text-align: center;
    }
    &:before {
      background: url(../images/logos-badges/uwec-stacked-white.svg);
      content: '';
      display: block;
      height: 59px;
      margin: $spaceSm auto;
      width: 40px;
      visibility: hidden;
      @include desk {
        margin: $spaceLg auto;
      }
    }
    &.visible:before {
      @include animation('flipRight .5s');
      visibility: visible;
    }
  }

  .field-button {
    @include auto;
    text-align: center;
    a{
      @include outlineButton($white);
    }
  }

  .field-bg-image {
    bottom: 0;
    display: none;
    height: 65%;
    left: -$siteMarginMobile;
    object-fit: cover;
    overflow: hidden;
    position: absolute;
    width: 100vw;
    z-index: 0;
    @include desk {
      display: block;
    }
  }
  .cta-section {
    position: relative;
    color: $white;
    padding-bottom: 100px;
    .cta-section-inner {
      @include safeFlex(column,wrap,start,start);
      @include edgeToEdge;
      padding-bottom: $spaceMd;
      padding-top: $spaceMd;
      @include desk {
        @include auto;
        display: grid;
        gap: 8%;
        grid-template-columns: 56% 36%;
        margin-top: $spaceLg;
        max-width: $wideContent;
      }
      .first,.last {
        margin: 0 $siteMarginMobile;
      }
      .first {
        order: 1;
        @include desk {
          grid-row-start: span 2;
          margin: 60px 0 0;
          max-width: 600px;
        }
      }
      .cta-image,
      .last {
        @include desk {
          max-width: 426px;
        }
      }
      .cta-image {
        order: 0;
        width: 100%;
        @include desk {
          order: 2;
        }
      }
      .last {
        order: 3;
        overflow: hidden;
        @include desk {
          margin: 0;
        }
      }
      .field-formatted-headline {
        @include rollingSeal;
        h2 {
		      @include styledHeader(true);
          color: $white;
          @include desk {
            text-align: left;
            p {
              margin-bottom: $spaceMd;
            }
          }
        }
      }
      .program-search {
        h3 {
          color: $white;
          margin-bottom: $spaceXs;
        }
      }
      .body {
        color: $white;
        margin-bottom: $spaceMd;
        @include desk {
          border-bottom: 1px solid $warmGrey;
          line-height: 2;
          padding-bottom: $spaceXl;
          margin-bottom: $spaceSm;
        }
      }
      .field-cta-image {
        margin-bottom: $spaceSm;
        .media-item {
          visibility: hidden;
          left: 200vw;
          position: relative;
          transition: left .75s ease-out;
          @include desk {
            // No animation on desktop size, since the stripes fly in.
            left: 0;
            margin-bottom: -50px;
            padding-top: 50px; // Fix to let stripes "break out" of top.
            top: -50px;
            visibility: visible;
            &:before {
              @include fatStripes($royal, 60px);
              height: 440px;
              width: 112px;
              left: auto;
              right: -200vw;
              top: -15px;
              transition: right 1s ease-out;
              z-index: 2;
            }
          }
        }
        &.visible .media-item {
          left: 0;
          visibility: visible;
          &:before {
            right: -56px;
          }
        }
      }
      .field-cta-links {
        margin-top: $spaceMd;
        a {
          @include linkArrow(white, lg);
          color: $white;
          margin-bottom: 2.5rem;
          min-height: 5rem;
        }
      }//end first last
    }//end CTA section inner
  }//end CTA section
  #program-search-form {
    position: relative;
    * {
      transform-style: unset;
    }
    input[type="text"] {
      background: $ice;
      border: 0;
      border-radius: 30px;
      font-size: 2rem;
      font-family: $bodyText;
      font-weight: $regular;
      min-height: 50px;
      padding: 11px 50px 11px 20px;
    }
    #edit-program-search-submit {
      position: absolute;
      top: calc(50% - 12px);
      right: 20px;
      @include browserWipe;
      width: 24px;
      height: 24px;
      overflow: hidden;
      text-indent: -9000px;
      background-color: transparent;
      border: 0;
      background-image: url(../images/elements/search.svg);
      background-repeat: no-repeat;
      background-size: 100%;
      background-position: 0 0;
      &:hover,&:focus{
        opacity: .5;
        border-bottom: 1px solid $black;
      }
    }
  }
  .angle-cut{
    position: absolute;
    bottom: -1px;
    right: -$siteMarginMobile;
    width: 100vw;
    height: 29vw;
    clip-path: polygon(100% 0%, 0% 100%, 100% 100%);
    background: $siteBack;
    z-index: 1;
  }
}//end block page-structured-section

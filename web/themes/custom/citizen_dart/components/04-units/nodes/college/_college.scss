/* ============
   COLLEGE
================ */

@use '../../../00-base/base' as *;
@use '../node-mixins' as *;

@mixin height100{
  @include desk{
    min-height: calc(100vh - 100px);
  }
  @include menuStop{
    min-height: calc(100vh - 110px);
  }
  .logged-in &{
    min-height: calc(100vh - 137px);
    @media screen and (min-width: 976px){
      min-height: calc(100vh - 216px);
    }
    @include menuStop{
      min-height: calc(100vh - 226px);
    }
  }//end logged in min heights
}//end height 100

@mixin blueTriangle{
  content: '';
  display: block;
  position: absolute;
  top: calc(100% - 1px);
  left: 0;
  height: 29vw;
  width: 100vw;
  z-index: -1;
  background: $brightBlue;
  clip-path: polygon(0 0, 100% 0, 0 100%);
}

@mixin goldSwirl{
  @include animation('fadeInDelay 1s 1');
  content: '';
  position: absolute;
  bottom: -83px;
  left: 73vw; 
  z-index: 0;
  width: 308px;
  height: 572px;
  background-image: url(../images/elements/swirl-vertical-gold.svg);
  background-repeat: no-repeat;
  background-size: 100%;
  @include desk{
    left: 77vw;
    width: 380px;
    height: 706px;
  }
  @include contentStop{
    left: auto;
    right: -104px;
    width: 452px;
    height: 839px;
    bottom: -95px;
  }
}//end gold swirl

@mixin heroRightImage{
  @include edgeToEdge;
  position: relative;
  min-height: calc(82vh - 88px);
  @include height100;
  @include onlyMobile{
    background: $brightBlue;
    margin-bottom: 29vw;
    &:before{
      @include blueTriangle;
      z-index: 0;
    }
  }
  @include desk{
    padding-bottom: 1px;
  }
  .image-right{
    max-width: 520px;
    @include auto;
    position: relative;
    z-index: 1;
    @include desk{
      position: absolute;
      top: 0;
      right: 0;
      width: 50%;
      z-index: 2;
      max-width: 720px;
      margin: 0;
      img{
        object-fit: cover;
        @include height100;
      }
    }//end desk
    @include contentStop{
      right: calc(50% - 720px);
    }
    &:after{
      @include goldSwirl;
      width: 189px;
      height: 351px;
      bottom: -66px;
      left: auto;
      right: -12px;
      z-index: -1;
      @include smallTab{
        right: -30px;
      }
      @include desk{
        right: auto;
        left: -60px;
        bottom: -125px;
      }
      @include contentStop{
        bottom: -146px;
      }
    }//end after swirl
  }//end image right

  .swirl-pattern{
    position: absolute;
    top: 0;
    left: 0;
    z-index: 2;
  }

  .page-header-text{
    position: relative;
    z-index: 1;
    margin-bottom: 29vw;
    max-width: 690px;
    @include auto;
    @include desk{
      max-width: 100%;
      position: relative;
      background: $brightBlue;
      &:after{
        @include blueTriangle;
      }
    }
    .page-header-text-inner{
      color: $white;
      padding: 58px 20px 0;
      max-width: 1092px;
      @include auto;
      body:not(.hero-has-image) &{
        & > *:not(.block-system-breadcrumb-block){
          max-width: 650px;
          @include auto;
        }
      }
      @include desk{
        padding-top: 0;
        & > *{
          max-width: calc(50% - 80px);
          body:not(.hero-has-image) &{
            max-width: 100%;
          }
        }
      }
      h1,h2,h3,h4,h5,h6,li,a{
        color: $white;
      }
      .block-system-breadcrumb-block{
        @include onlyMobile{
          display: none;
        }
        .breadcrumb{
          max-width: 1096px;
          padding-top: 62px;
          margin-bottom: 40px;
          @include menuStop{
            margin-bottom: 80px;
          }
          a{
            &:hover,&:focus{
              @include dottedLink($white);
            }
          }
        }//end breadcrumb
      }//end breadcrumb block
      .field.title{
        margin-bottom: 30px;
      }
      .field-subtitle{
        margin-bottom: 20px;
        padding-left: 20px;
        padding-right: 20px;
        @include desk{
          padding-left: 0;
          padding-right: 0;
        }
      }
      .field-intro{
        padding-left: 20px;
        padding-right: 20px;
        @include desk{
          padding-left: 0;
          padding-right: 0;
        }
      }
    }//end page header text inner
  }//end page header text
}//end hero image right

.node-college{
  padding-bottom: $spaceXl;
  @include menuStop{
    padding-bottom: 0;
  }
	#node-section-1 {
		@include heroRightImage;
    body:not(.hero-has-image) &{
      &:after{
        @include goldSwirl;
        max-height: 100%;
        bottom: -57px;
        @include desk{
          z-index: 1;
        }
        @media screen and (min-width: 1600px){
          bottom: auto;
          top: 60px;
        }
      }//end after swirl
    }
	}//end node section 1
  #node-section-2{
    padding-top: $spaceLg;
    @include desk{
      padding-top: 0;
      position: relative;
      z-index: 1;
    }
    @include contentStop{
      margin-top: -2vw;
    }
    @media screen and (min-width: 1600px){
      margin-top: -5vw;
    }
    @media screen and (min-width: 1900px){
      margin-top: -7vw;
    }
    @media screen and (min-width: 2400px){
      margin-top: -8vw;
    }
    .layout--twocol-sideleft{
      position: relative;
      .layout__region--content{
        @include desk{
          width: 100%; 
          padding-left: 20px;
          padding-right: 20px;
        }
        @include menuStop{
          &:not(:only-child){
            width: calc(100% - 259px);
            max-width: 1045px;
            margin-left: auto;
            .block-field.block-body{
              margin-left: 0;
            }
          }
        }
        @include contentStopMargin{
          &:not(:only-child){
            margin-right: 40px;
          }
        }
      }//end layout region content
    }//end two column side left
    .block-field.block-body{
      max-width: $textMax;
      @include auto;
      @include onlySmall{
        padding-left: 20px;
        padding-right: 20px;
      }
    }
  }//end node section 2
  .block-field-paragraphs{
    margin-top: 80px;
    margin-bottom: 62px;
    @include tab{
      margin-top: 20px;
      margin-bottom: 90px;
    }
  }
  .block-field-facts-list{
    @include edgeToEdge;
    margin-bottom: $spaceSm;
    background: $siteBack;
    margin-bottom: 70px;
  }//end fact list
  .block-field-stories-video-list{
    margin-bottom: 70px;
    .field-widget-title{
      @include onlySmall{
        text-align: left;
        margin-left: 0;
      }
    }
  }
	#node-section-4{
		@include contactSection;
	}//end node-section-4
}//end college

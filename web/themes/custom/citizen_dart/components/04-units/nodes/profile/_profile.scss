/* =============
   BIOS NODE
================== */

@use '../../../00-base/base' as *;
@use '../node-mixins' as *;

//bio node
.node-bios{
	#node-section-1{
    position: relative;
		padding-bottom: 19rem;
    padding-top: 10px;
    @include desk{
      padding-top: 8.75rem;
      padding-bottom: 40rem;
    }
		@media screen and (min-width: 3200px) {
			padding-bottom: 60rem;
		}
    &:before{
      @include fullBack($brightBlue);
      top: auto;
      bottom: 0;
      height: 42px;
      z-index: 0;
    }
    &:after {
			@include fullBack($navy);
		}
		& > .layout--twocol-even {
			max-width: $contentStopMargin;
			@include auto;
			position: relative;
			@include onlySmall {
				width: 100%;
			}
			&:after {
				content: '';
				display: block;
        position: absolute;
				bottom: calc(-19rem + 42px);
				left: -20px;
				height: 29vw;
				width: 100vw;
				clip-path: polygon(100% 0%, 0% 100%, 100% 100%);
				background: $brightBlue;
        @include desk{
          bottom: calc(-40rem - 1px);
        }
				@media screen and (min-width: 3200px) {
					bottom: -60rem;
				}
			}//end after
		}//end layout two column even
		.layout__region--first{
			padding-left: 0;
			padding-right: 0;
      margin-bottom: $spaceXxs;
			@include tab {
				@include safeFlex(row,wrap,end,start);
				max-width: 556px;
			}
			@include desk {
				padding-left: 65px;
				padding-right: 65px;
			}
			& > * {
				position: relative;
				z-index: 10;
			}
		}//end layout region first
		.layout__region--content {
			padding-left: 0;
			padding-right: 0;
			@include tab {
				padding-top: 3rem;
				width: 100%;
			}
			@include desk {
				max-width: calc(100% - 556px);
				padding-left: 65px;
				padding-right: 65px;
			}
			& > * {
				position: relative;
				z-index: 10;
			}
			&:after {
				content: '';
				display: block;
				position: absolute;
				bottom: -31rem;
				-webkit-mask: url(../images/elements/swirl-vertical-blue.svg) no-repeat 50% 50%;
				mask: url(../images/elements/swirl-vertical-blue.svg) no-repeat 50% 50%;
				-webkit-mask-size: cover;
				mask-size: cover;
				background-color: $royal;
				width: 384px;
				height: 839px;
				right: -39rem;
				z-index: 5;
        @include desk{
          bottom: -460px;
          right: -$siteMarginDesk;
        }
			}//end after
			* {
				color: $white;
			}
		}//end layout region content

    .block-field-image {
      max-width: 426px;
      margin: 0 auto 2.5rem;
      .field-image {
        position: relative;
        &:before {
          background-image: url(../images/elements/fat-stripes-gold.svg);
          content: '';
          display: block;
          width: 140px;
          height: 247px;
          position: absolute;
          bottom: -44px;
          left: -20px;
          background-repeat: no-repeat;
          background-size: 100% 100%;
          @include desk {
            bottom: -20px;
            left: -50px;
            width: 220px;
            height: 340px;
          }
        }//end before
        .field-media-image {
          position: relative;
          z-index: 15;
        }
      }//end field image
    }//end image block

    .block-field-emeriti-status {
      max-width: 426px;
      @include safeFlex(row,nowrap,end,start);
      margin: 0 auto;
      @include tab {
				width: auto;
				margin-left: $spaceSm;
				margin-right: 0;
			}
      .field-wrapper{
        color: $white;
        width: 120px;
        font-size: 1.5rem;
        text-transform: uppercase;
        letter-spacing: 1px;
        margin-bottom: 1rem;
        margin-left: auto;
        @include safeFlex(row,nowrap,start,start);
      }
			.icon-wrapper {
				width: 15px;
				height: 18px;
				margin-top: 4px;
				margin-right: $spaceXxs;
				svg path {
					fill: none;
				}
			}//end icon wrapper
		}//end emeriti

		.block-field-is-alumni {
      @extend .block-field-emeriti-status;
		}//end is alumni

    .block-title {
      margin-bottom: 0;
      @include edgeReset;
      .field.title {
				margin-bottom: 1rem;
				margin-top: 2rem;
				@include desk {
					margin-top: 0;
				}
			}
    }//end title block

    .block-created {
      margin-bottom: 0;
    }

    .block-field-pronouns {
      text-transform: uppercase;
      margin-bottom: 0;
      letter-spacing: 0.05em;
    }

    .block-field-positions {
      font-family: $header;
      margin-top: 6rem;
      margin-bottom: 0;
      font-size: 2.5rem;
      line-height: 1.5;
      .field-positions > div:not(:last-child){
        margin-bottom: $spaceXxs;
      }
    }

    .block-field-departments {
      margin-top: 6rem;
      h2.block-title{
        font-family: $bodyText;
        font-size: 1.75rem;
        text-align: left;
        font-weight: normal;
        text-transform: capitalize;
        letter-spacing: unset;
        margin-bottom: 0.5rem;
      }//end block title
      .field-departments {
        a {
          position: relative;
          color: $gold;
          font-weight: $heavy;
          @include safeFlex(row,nowrap,start,center);
          span{
            display: inline-block;
            color: $gold;
          }
          &:after {
            content: '';
            display: inline-block;
            width: 20px;
            height: 20px;
            background: url(../images/arrows/right-arrow-gold-sm.svg) no-repeat;
            background-position: center center;
            background-size: 50%;
            border: 1px solid $gold;
            border-radius: 50%;
            margin-left: .5em;
          }
          &:hover, &:focus {
            span{
              @include dottedLink($gold);
            }
            &:after {
              background-image: url(../images/arrows/right-arrow-navy-sm.svg);
              border-color: $white;
              background-color: $white;
            }
          }
        }//end a
      }//end field departments
    }//end departments block
	}//end node section one

	#node-section-2{
		@include contactHolder;
		margin-top: -13rem;
		position: relative;
		z-index: 10;
		margin-bottom: $spaceMd;
		@include desk {
			margin-bottom: 0;
		}
		@media screen and (min-width: 1600px){
			margin-top: -26rem;
		}
		@media screen and (min-width: 1700px){
			margin-top: -29rem;
		}
		@media screen and (min-width: 3200px) {
			margin-top: -42rem;
		}
    .contact-wrapper{
      padding-top: 56px;
      padding-bottom: 50px;
    }
    .contact-title{
      @include contactTitle;
			margin-bottom: 3.5rem;
    }
		.block-field {
			margin-bottom: 1.5rem;
		}
		.nid a {
			display: block;
			margin-bottom: 0.25rem;
			width: fit-content;
			border-bottom: 1px dotted;
		}
		#hours-icon {
			fill: none !important;
		}
		#phone-icon {
			fill: none !important;
		}
		#cv-icon {
			fill: none !important;
		}
		.field-platforms .platform-links{
      a{ 
        &:hover,&:focus{
          background: darken($ice,3%);
          border-radius: 4px;
        }
        svg {
          width: 2rem;
          height: 2rem;
        }
      }
		}
    .layout__region{
      @include contactContent;
    }
	}//end node section two

	#node-section-3{
		max-width: $textMax;
		@include auto;
		padding-top: 3rem;
		h2.block-title {
			text-align: left;
			@include heading3;
			text-transform: capitalize;
			font-size: 2rem;
			margin-bottom: 0.5rem;
			line-height: 2;
      letter-spacing: 0;
			@include desk {
				font-size: 2.25rem;
			}
		}
		.block-field {
			padding: 0 2.5rem;
			@include desk {
				padding: 0;
			}
		}
	}//end node section three
}//end bios

/* PROFILE TEASER
--------------------- */
.node-teaser-bios{
	@include profileTeaser;
  .teaser-title{
    margin-bottom: 1.5rem;
  }
}//end node teaser bios

/* PROFILE STACKED
--------------------- */
.node-stacked-bios{
  //mixin from general mixins because of fauxfile
  @include profileStacked;
}



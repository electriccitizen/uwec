/* =============
   NEWS NODE
================ */

@use '../../../00-base/base' as *;

.node-news{
	#node-section-1{
		position: relative;
		z-index: 0;
		margin-left: -$siteMarginMobile;
		margin-top: -160px;
		padding-top: 160px;
		width: 100vw;
		min-height: 100vh;
		*{
			transform-style: unset;
		}
		@include desk{
			margin-top: -166px;
			padding-top: 166px;
		}
		.block-field-image{
			position: absolute;
			top: 0;
			left: 0;
			height: 100%;
			min-height: 100vh;
			width: 100vw;
			z-index: -1;
			overflow: hidden;
			&:before{
				@include fullBack(rgba(35,35,35,0.4));
				z-index: 1;
			}
			&:after{
				content: '';
				display: block;
				width: 100vw;
				height: 400px;
				@include rotate(-16);
				background: $white;
				position: absolute;
				bottom: -30vh;
				right: -50vw;
				z-index: 2;
			}
			& *{
				height: 100%;
			}
			.field-label{
				display: none;
			}
			img{
				object-fit: cover;
			}
		}//end main section 1 image
		.block-field.block-title{
			max-width: $textMax;
			position: absolute;
			bottom: 0;
			left: $siteMarginMobile;
			height: 100%;
			min-height: 100vh;
			padding-bottom: 138px;
			@include safeFlex(column,nowrap,end,start);
			h1{
				text-align: left;
				color: $white;
			}
		}//end title
	}//end node section 1

	#node-section-2{
		max-width: $textMax;
		@include auto;
		.layout__region--content{
			@include safeFlex(row,nowrap,justify,start);
		}
		.breadcrumb{
			padding-top: 0;
		}
	}//end section 2

	#node-section-3{
		.field-authors{
			@include safeFlex(row,wrap,start,start);
		}
		.block-field-image{
			margin-bottom: $elementSpace;
			.field-label{
				@include headerGlobals;
				font-size: 26px;
				line-height: 32px;
			}
		}
	}//end node section 3

	#node-section-4{
    position: relative;
    color: $white;
    &:after{
      @include fullBack($brightBlue);
    }
		.block-field-authors{
			max-width: $textMax;
			@include auto;
			h2.block-title{
				@include headerGlobals;
				font-size: 26px;
				line-height: 32px;
				text-align: left;
				text-transform: none;
			}
			.field-authors{
				& > div{
					&:not(:last-child){
						margin-bottom: $elementSpace;
					}
				}
			}
		}//end authors fields block
	}//end node section 4
}//end news


/* STORY TEASER
------------------- */
.node-teaser-news{
  max-width: 426px;
  @include auto;
  .field-image{
    margin-bottom: $spaceXs;
  }
  .teaser-title{
    margin-bottom: $spaceXxs;
    a{
      @include blockArrow(navy, sm);
      .views-block.block-related-stories & {
        color: $white;
      }
      &:after{
        .views-block.block-related-stories &{
          @include rightArrow(white,transparent,$white,sm);
        }
      }
      &:hover,&:focus{
        &:after{
          .views-block.block-related-stories &{
            @include rightArrow(blue,$white,$white,sm);
          }
        }
        span{
          @include dottedLink($brightBlue);
          .views-block.block-related-stories &{
            @include dottedLink($white);
          }
        }
      }//end hover, focus
    }//end a
  }//end teaser-title
  .field.body{
    line-height: 1.5;
  }
}//end teaser story

/* STORY WIDGET
------------------- */
.node-widget-news{
  .story-eyebrow-lg{
    display: none;
    @include carouselBreak{
      display: block;
      text-align: right;
      font-size: 1.5rem;
      line-height: 1.5;
      text-transform: uppercase;
      letter-spacing: .05em;
      margin-bottom: $spaceXxs;
      color: $brightBlue;
    }
    @include desk{
      padding-top: 22px;
    }
  }//end story eyebrow lg
  .story-text{
    padding: 20px 20px 12px;
    color: $brightBlue;
    background: $lightGrey;
    @include carouselBreak{
      background: $siteBack;
      @include safeFlex(row,nowrap,start,start);
      padding: 20px 0 0;
    }
    @include desk{
      padding-top: 30px;
    }
  }//end story text
  .field-image{
    @include desk{
      position: relative;
      z-index: 1;
      &:after{
        content: url(../images/elements/swirl-horizontal-blue.svg);
        position: absolute;
        top: -53px;
        left: -50px;
        z-index: -1;
      }
    }
  }//end field image
  .story-title{
    margin-bottom: $spaceXxs;
    @include carouselBreak{
      padding-right: 20px;
      width: 50%;
      margin-bottom: 0;
    }
    a{
      @include blockArrow(brightBlue, sm);
    }//end a
  }//end story title
  .field-intro-text{
    line-height: 1.5;
    @include carouselBreak{
      padding-top: 4px;
      width: 50%;
    }
  }//end field intro text
  .field-eyebrow{
    margin-top: $spaceSm;
    font-size: 1.5rem;
    line-height: 1.5;
    text-transform: uppercase;
    letter-spacing: .05em;
    @include carouselBreak{
      display: none;
    }
  }//end field eyebrow
}//end widget story
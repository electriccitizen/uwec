/* ============
   SNAPSHOT LIBRARY
================ */

@use '../../../00-base/base' as *;

.node-snapshot{
	padding-top: $elementSpace;
	max-width: $breakoutWidth;
	@include auto;
	#node-section-1{
		max-width: 492px;
		@include auto;
		margin-bottom: $elementSpace;
		border-bottom: 1px solid $borderRule;
		padding-bottom: $elementSpace;
    h1.page-title {
      font-size: 25px;
    }
		.block-field:not(.block-field-image):not(.block-title){
			margin-bottom: $spaceXxs;
		}
		.field-image{
			max-width: 360px;
			@include auto;
		}
    .field-link a {
      @include linkArrow(gold, sm);
      color: $link;
      &:hover,
      &:focus {
        text-decoration: underline;
      }
    }
	}
	#node-section-2{
		.block-field{
			margin-bottom: $spaceXxs;
			.field.entity-reference{
				.field-multi-item{
					& > div:not(:last-child){
						&:after{
							content: ', ';
						}
					}
				}
			}
		}//end block field
	}//end node section 2
}//end snapshot-library

//snapshot teasers
.node-teaser-snapshot{
  position: relative;
  padding: 0 20px $spaceMd;
  margin: 0 -20px 8rem;
  @include desk{
    @include edgeReset;
    overflow: hidden;
    .widget-section > .layout--onecol &,.node-type-support-book &{
      margin-bottom: 0;
      height: 100%;
      z-index: 1;
    }
  }
  &:after{
    content: '';
    display: block;
    width: 100%;
    height: calc(100% - 80px);
    position: absolute;
    bottom: 0;
    left: 0;
    z-index: -1;
    background: $ice;
  }
  &.snapshot-visible .field-image article img {
    opacity: 1;
    @include transition-animate(opacity, .5s, ease-in);
  }//end snapshot visible
	.field-image{
		margin-bottom: $spaceXs;
    position: relative;
    z-index: 1;
    width: 240px;
    @include auto;
    @include desk{
      width: 100%;
    }
    article{
      max-width: 240px;
      @include auto;
      img{
        opacity: 0;
      }
    }
	}//end field image
  .snapshot-teaser-text{
    max-width: $textMax;
    @include auto;
    .widget-section > .layout--onecol &,.node-type-support-book &{
      @include desk{
        height: calc(100% - 256px);
        @include safeFlex(column,nowrap,justify,start);
      }
    }
  }
	.teaser-title{
    @include heading2;
    font-family: $displayHeader;
    font-size: 25px;
    line-height: 1.33;
    margin-bottom: $spaceXs;
	}
  .field-plain-text{
    line-height: 1.5;
    margin-bottom: $spaceSm;
  }
  .field-link{
    a{
      display: inline-block;
      @include linkArrow(gold, sm);
      color: $link;
      &:before {
        top: -2px;
      }//end before
    }//end a
  }//end field link

}//end snaptshot teaser

//snapshot widget (for content carousel)
.node-widget-snapshot{
  color: $galleryCaption;
  .snapshot-widget-content {
    @include safeFlex(row,wrap,start,stretch);
  }//end snapshot widget content
  .snapshot-top-left{
    position: relative;
    z-index: 1;
    @include smallTab {
      width: 56.3%;
    }
    .waves-gold {
      display: none;
      position: absolute;
      top: 15px;
      right: -190px;
      width: 75%;
      z-index: -1;
      svg {
        width: 100%;
        height: auto;
      }
      @include tab {
        display: block;
        top: 56px;
        right: calc(-46% - 44px);
        width: 100%;
      }
    }//end waves gold
  }//end top left
  .snapshot-top-right {
    padding: $spaceSm 0 $spaceXxs;
    position: relative;
    z-index: 2;
    @include smallTab {
      @include safeFlex(column,nowrap,end,start);
      padding: 0 0 0 44px;
      width: 43.7%;
    }
    .field-eyebrow {
      color: $royal;
      font-size: 1.5rem;
      letter-spacing: .05em;
      line-height: 1.5;
      margin-bottom: $spaceXxs;
      text-transform: uppercase;
      @include smallTab {
        color: $galleryEyebrow;
        font-size: 15px;
        font-weight: $heavy;
        letter-spacing: normal;
      }
    }
    .snapshot-title{
      color: $galleryTitle;
      font-family: $displayHeader;
      font-size: 25px;
      font-weight: $heavy;
      line-height: 1.33;
      @include desk{
        font-size: 25px;
      }
    }
  }//end snapshot toprright
  .snapshot-bottom{
      max-width: 762px;
      margin: $spaceSm auto 0;
      width: 100%;
    .field-plain-text{
      line-height: 1.5;
      margin-bottom: $spaceMd;
    }
    .field-link{
      margin-bottom: $spaceSm;
      a{
        display: inline-block;
        @include linkArrow(royal, lg);
      }//end a
    }//end field link
  }//end snapshot bottom
  .snapshot-eyebrow-sm{
    color: $royal;
    margin-top: $spaceSm;
    font-size: 1.5rem;
    line-height: 1.5;
    text-transform: uppercase;
    letter-spacing: .05em;
    @include smallTab {
      display: none;
    }
  }
}//end widget snapshot
